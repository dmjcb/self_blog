---
title: "arch 使用"
date: 2026-02-08
categories: [linux]
tags: [linux]
excerpt: "arch 安装"
---


## 系统安装

### 增加用户

```sh
useradd -m -G wheel -s /bin/bash 用户名

passwd 用户名
```

## 软件适配

### 中文支持

1. 编辑 locale 配置

编辑`/etc/locale.gen`, 增加或取消注释

```sh
en_US.UTF-8 UTF-8
zh_CN.UTF-8 UTF-8
```

生成locale

```sh
sudo locale-gen
```

2. 设置默认语言

编辑`/etc/locale.conf`

推荐配置(系统英文, 中文环境友好)

```sh
LANG=en_US.UTF-8
```

> 不建议直接 LANG=zh_CN.UTF-8, 否则部分终端/日志会出现兼容问题

立即生效

```sh
source /etc/locale.conf
```

3. 安装中文字体

```sh
sudo pacman -S noto-fonts noto-fonts-cjk noto-fonts-emoji ttf-dejavu
```

noto-fonts-cjk   ：中日韩字体(核心)
noto-fonts-emoji ：emoji 支持
ttf-dejavu       ：西文字体

### 图形界面

1. 安装桌面环境

```sh
sudo pacman -S gnome gnome-extra
```

或者KDE Plasma

```sh
sudo pacman -S plasma kde-applications
```

或者XFCE

```sh
sudo pacman -S xfce4 xfce4-goodies
```

2. 安装显示管理器(DM)

显示管理器用于提供图形登录界面(不装也行, 但推荐)

常用 DM
| DM      | 推荐环境  |
| ------- | --------- |
| gdm     | GNOME     |
| sddm    | KDE       |
| lightdm | XFCE / WM |

示例, 安装并启用 GDM

```sh
sudo pacman -S gdm

sudo systemctl enable gdm
```

重启后自动进入图形登录界面

### 输入法

安装 IBus 版 Rime 并配置雾凇拼音

确保已启用中文 locale(至少)

1. 安装软件

```sh
sudo pacman -S ibus ibus-qt ibus-gtk
```

```sh
sudo pacman -S ibus-rime
```

2. 设置环境变量

`~/.xprofile` 写入

```sh
export GTK_IM_MODULE=ibus
export QT_IM_MODULE=ibus
export XMODIFIERS=@im=ibus
```

生效

```sh
source ~/.xprofile
```

启动 IBus

```sh
ibus-daemon -drx
```

在 IBus 中添加 Rime

```sh
ibus-setup
```

Input Method → Add → Chinese → Rime

3. 安装雾凇拼音

Rime 用户配置目录

```sh
mkdir -p ~/.config/ibus/rime
```

雾凇拼音

```sh
git clone https://github.com/iDvel/rime-ice.git ~/.config/ibus/rime
```

设置默认输入方案

编辑`~/.config/ibus/rime/default.custom.yaml`

```yaml
patch:
  schema_list:
    - schema: rime_ice
```

启用雾凇拼音

编辑`~/.config/ibus/rime/rime_ice.custom.yaml`

```yaml
patch:
  switcher:
    hotkeys:
      - Control+grave
```

重新部署 Rime

```sh
ibus restart
```

### 软件


```sh
pacman -S nano
```

#### sudo设置

安装

```sh
pacman -S sudo
```

编辑

```sh
EDITOR=nano visudo
```

取消注释这一行

```sh
%wheel ALL=(ALL:ALL) ALL
```

#### NVIDIA

1. 驱动

```sh
pacman -S linux-headers
```

```sh
pacman -S nvidia nvidia-utils nvidia-settings
```

2. 安装CUDA

```sh
pacman -S cuda
```

编辑 `~/.bashrc`

```sh
export CUDA_HOME=/opt/cuda
export PATH=$CUDA_HOME/bin:$PATH
export LD_LIBRARY_PATH=$CUDA_HOME/lib64:$LD_LIBRARY_PATH
```

生效

```sh
source ~/.bashrc
```


## 美化

### gnome风格

#### yay

```sh
sudo pacman -S --needed base-devel git
```

```sh
git clone https://aur.archlinux.org/yay.git
```

```sh
cd yay

makepkg -si
```

#### 桌面

```sh
sudo pacman -S gnome
```

#### 软件

```sh
sudo pacman -S gnome-tweaks

sudo pacman -S gnome-shell-extensions
# 设置
sudo pacman -S gnome-control-center

sudo pacman -S gnome-terminal
```

#### 字体

```sh
sudo pacman -S ttf-ubuntu-font-family
```

```sh
yay -S yaru-gtk-theme yaru-icon-theme
```





